<!doctype html>
<html lang="ar" dir="rtl" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ù„Ø¹Ø¨Ø© Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø§Ø·Ø¹Ø©</title>
  <script src="/_sdk/data_sdk.js"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
        body {
            box-sizing: border-box;
        }
        
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap');
        
        * {
            font-family: 'Cairo', Arial, sans-serif;
        }
        
        @keyframes pop-in {
            0% { transform: scale(0); opacity: 0; }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); opacity: 1; }
        }
        
        .letter-tile {
            transition: all 0.2s ease;
            cursor: grab;
            user-select: none;
            background: #1a1f3a;
            border: 2px solid #00ff9d;
            box-shadow: 0 2px 8px rgba(0, 255, 157, 0.2);
        }
        
        .letter-tile:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 12px rgba(0, 255, 157, 0.3);
        }
        
        .letter-tile:active {
            cursor: grabbing;
            transform: scale(0.95);
        }
        
        .drop-zone {
            transition: all 0.2s ease;
            background: rgba(26, 31, 58, 0.5);
            border: 2px dashed rgba(0, 255, 157, 0.4);
        }
        
        .drop-zone.drag-over {
            background: rgba(0, 255, 157, 0.15);
            border-color: #00ff9d;
            border-style: solid;
        }
        
        .drop-zone.filled {
            background: #00ff9d;
            border-color: #00ff9d;
        }
        
        .word-complete {
            animation: pop-in 0.4s ease;
        }
        
        .game-container {
            background: radial-gradient(ellipse at top, #0a0e27 0%, #000000 100%);
            position: relative;
            overflow: hidden;
        }
        
        .tech-panel {
            background: rgba(26, 31, 58, 0.8);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(0, 255, 157, 0.3);
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);
        }
        
        .neon-text {
            color: #00ff9d;
            text-shadow: 0 0 10px rgba(0, 255, 157, 0.5);
        }
        
        .neon-text-blue {
            color: #00ccff;
            text-shadow: 0 0 8px rgba(0, 204, 255, 0.4);
        }
        
        .neon-text-purple {
            color: #cc00ff;
            text-shadow: 0 0 8px rgba(204, 0, 255, 0.4);
        }
        
        .loading-spinner {
            border: 3px solid rgba(0, 255, 157, 0.2);
            border-top: 3px solid #00ff9d;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @keyframes fade-in {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }
        
        @keyframes bounce-in {
            0% { transform: scale(0); opacity: 0; }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); opacity: 1; }
        }
        
        .wheel-container {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 50;
            animation: bounce-in 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
        
        .wheel {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            position: relative;
            background: conic-gradient(
                from 0deg,
                #ff006e 0deg 60deg,
                #ff8500 60deg 120deg,
                #00ff9d 120deg 180deg,
                #00ccff 180deg 240deg,
                #cc00ff 240deg 300deg,
                #ff00aa 300deg 360deg
            );
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3);
            transition: transform 4s cubic-bezier(0.17, 0.67, 0.12, 0.99);
            border: 3px solid #00ff9d;
        }
        
        .wheel::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 40px;
            height: 40px;
            background: #00ff9d;
            border-radius: 50%;
            z-index: 10;
        }
        
        .wheel-pointer {
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 15px solid transparent;
            border-right: 15px solid transparent;
            border-top: 25px solid #00ff9d;
            z-index: 20;
        }
        
        .wheel-segment-text {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 100px;
            height: 20px;
            transform-origin: 0 0;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 10px;
            font-weight: bold;
            font-size: 14px;
            color: white;
            text-shadow: 0 2px 4px rgba(0,0,0,0.8);
        }
        
        .welcome-screen {
            animation: fade-in 0.8s ease;
        }
        
        .game-screen {
            animation: fade-in 0.8s ease;
        }
        
        .difficulty-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            border: 1px solid;
        }
        
        .difficulty-easy {
            background: rgba(0, 255, 157, 0.2);
            border-color: #00ff9d;
            color: #00ff9d;
        }
        
        .difficulty-medium {
            background: rgba(255, 133, 0, 0.2);
            border-color: #ff8500;
            color: #ff8500;
        }
        
        .difficulty-hard {
            background: rgba(255, 0, 110, 0.2);
            border-color: #ff006e;
            color: #ff006e;
        }
        
        .category-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: bold;
            background: rgba(0, 204, 255, 0.2);
            border: 1px solid #00ccff;
            color: #00ccff;
            margin-left: 8px;
        }
        
        .start-button {
            background: #00ff9d;
            color: #0a0e27;
            box-shadow: 0 8px 24px rgba(0, 255, 157, 0.4);
            border: 3px solid #00ff9d;
            cursor: pointer;
        }
        
        .start-button:hover {
            box-shadow: 0 12px 32px rgba(0, 255, 157, 0.6);
            transform: scale(1.05) translateY(-2px);
        }
        
        .start-button:active {
            transform: scale(0.98);
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
 </head>
 <body class="h-full m-0 p-0"><!-- Welcome Screen -->
  <div id="welcomeScreen" class="game-container welcome-screen w-full h-full flex flex-col items-center justify-center p-6 relative">
   <div class="tech-panel rounded-3xl p-12 max-w-3xl text-center relative z-10">
    <div class="mb-8">
     <div class="text-8xl mb-4">
      ğŸ’»
     </div>
     <h1 id="welcomeTitle" class="text-7xl font-black neon-text mb-4">Ù„Ø¹Ø¨Ø© Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø§Ø·Ø¹Ø©</h1>
     <p id="welcomeDescription" class="text-2xl mb-4 neon-text-blue">Ø§Ø®ØªØ¨Ø± Ø°ÙƒØ§Ø¡Ùƒ ÙˆÙƒÙˆÙ‘Ù† Ø§Ù„ÙƒÙ„Ù…Ø§Øª</p>
     <div class="text-sm neon-text-purple">
      âš¡ Ø£ÙƒØ«Ø± Ù…Ù† 56 Ù„ØºØ² ØªÙ‚Ù†ÙŠ Ù…ØªÙ†ÙˆØ¹ âš¡
     </div>
    </div>
    <div class="tech-panel rounded-2xl p-6 mb-8">
     <h3 class="text-xl font-bold mb-6 neon-text">âœ¨ ÙØ¦Ø§Øª Ø§Ù„Ø£Ù„ØºØ§Ø²</h3>
     <div class="grid grid-cols-2 gap-4 mb-6">
      <div class="tech-panel rounded-xl p-4 hover:scale-105 transition-transform">
       <div class="text-4xl mb-2">
        ğŸ
       </div>
       <div class="font-bold neon-text-blue">
        Ù„ØºØ§Øª Ø§Ù„Ø¨Ø±Ù…Ø¬Ø©
       </div>
       <div class="text-xs" style="color: #888;">
        Python, Java, JavaScript
       </div>
      </div>
      <div class="tech-panel rounded-xl p-4 hover:scale-105 transition-transform">
       <div class="text-4xl mb-2">
        âš™ï¸
       </div>
       <div class="font-bold neon-text-blue">
        Ù…ØµØ·Ù„Ø­Ø§Øª ØªÙ‚Ù†ÙŠØ©
       </div>
       <div class="text-xs" style="color: #888;">
        Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ§ØªØŒ ï¿½ï¿½ÙˆØ§Ø¹Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª
       </div>
      </div>
      <div class="tech-panel rounded-xl p-4 hover:scale-105 transition-transform">
       <div class="text-4xl mb-2">
        ğŸ‘¨â€ğŸ’»
       </div>
       <div class="font-bold neon-text-blue">
        Ø´Ø®ØµÙŠØ§Øª ØªÙ‚Ù†ÙŠØ©
       </div>
       <div class="text-xs" style="color: #888;">
        Gates, Jobs, Musk
       </div>
      </div>
      <div class="tech-panel rounded-xl p-4 hover:scale-105 transition-transform">
       <div class="text-4xl mb-2">
        ğŸ¤–
       </div>
       <div class="font-bold neon-text-blue">
        ØªÙ‚Ù†ÙŠØ§Øª Ù…ØªÙ‚Ø¯Ù…Ø©
       </div>
       <div class="text-xs" style="color: #888;">
        AI, Blockchain, Cloud
       </div>
      </div>
     </div><button id="startGameBtn" style="width: 100%; padding: 24px 32px; border-radius: 16px; font-weight: 900; font-size: 32px; background: #ffffff; color: #000000; border: 3px solid #ffffff; box-shadow: 0 8px 24px rgba(255, 255, 255, 0.4); cursor: pointer; transition: all 0.3s ease; display: block; margin: 0 auto;"> <span id="startButtonText">ğŸš€ Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø©</span> </button>
    </div>
    <div class="tech-panel rounded-2xl p-6 mb-8">
     <h3 class="text-lg font-bold mb-4 neon-text">ğŸ® Ù…Ø³ØªÙˆÙŠØ§Øª Ø§Ù„ØµØ¹ÙˆØ¨Ø©</h3>
     <div class="flex justify-center gap-4">
      <div class="difficulty-badge difficulty-easy">
       â­ Ø³Ù‡Ù„ (15 Ù„ØºØ²)
      </div>
      <div class="difficulty-badge difficulty-medium">
       â­â­ Ù…ØªÙˆØ³Ø· (24 Ù„ØºØ²)
      </div>
      <div class="difficulty-badge difficulty-hard">
       â­â­â­ ØµØ¹Ø¨ (17 Ù„ØºØ²)
      </div>
     </div>
    </div>
   </div>
  </div><!-- Game Screen -->
  <div id="gameScreen" class="game-container game-screen w-full h-full flex flex-col items-center justify-center p-6 relative" style="display: none;"><!-- Wheel of Fortune -->
   <div id="wheelContainer" class="wheel-container" style="display: none;">
    <div class="tech-panel rounded-3xl p-4 text-center">
     <div class="relative">
      <div class="wheel-pointer"></div>
      <div id="wheel" class="wheel">
       <div class="wheel-segment-text" style="transform: rotate(30deg) translateX(-50px);">
        +100
       </div>
       <div class="wheel-segment-text" style="transform: rotate(90deg) translateX(-50px);">
        +50
       </div>
       <div class="wheel-segment-text" style="transform: rotate(150deg) translateX(-50px);">
        +200
       </div>
       <div class="wheel-segment-text" style="transform: rotate(210deg) translateX(-50px);">
        0
       </div>
       <div class="wheel-segment-text" style="transform: rotate(270deg) translateX(-50px);">
        +150
       </div>
       <div class="wheel-segment-text" style="transform: rotate(330deg) translateX(-50px);">
        +75
       </div>
      </div>
     </div><button id="spinBtn" class="mt-4 py-3 px-6 rounded-xl font-bold text-lg transition-all duration-300 transform hover:scale-105 border-2" style="background: #1a1f3a; border-color: #00ff9d; color: #00ff9d; box-shadow: 0 2px 8px rgba(0, 255, 157, 0.2);"> ğŸ¡ Ù„Ù Ø§Ù„Ø¹Ø¬Ù„Ø© </button>
     <p id="wheelTimer" class="mt-2 text-sm neon-text-blue"></p>
    </div>
   </div><!-- Header -->
   <div class="tech-panel rounded-3xl p-6 mb-6 w-full max-w-5xl relative z-10 word-complete">
    <h1 id="gameTitle" class="text-5xl font-black text-center neon-text mb-2">Ù„Ø¹Ø¨Ø© Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø§Ø·Ø¹Ø©</h1>
    <p id="instructionText" class="text-center text-lg neon-text-blue">Ø§Ø³Ø­Ø¨ Ø§Ù„Ø­Ø±ÙˆÙ Ù„ØªÙƒÙˆÙŠÙ† Ø§Ù„ÙƒÙ„Ù…Ø§Øª</p><!-- Score and Level -->
    <div class="grid grid-cols-4 gap-4 mt-6">
     <div class="tech-panel px-6 py-3 rounded-2xl"><span class="text-xs neon-text-blue">Ø§Ù„Ù†Ù‚Ø§Ø·</span>
      <div id="score" class="text-3xl font-black neon-text">
       0
      </div>
     </div>
     <div class="tech-panel px-6 py-3 rounded-2xl"><span class="text-xs neon-text-blue">Ø§Ù„ï¿½ï¿½Ø³ØªÙˆÙ‰</span>
      <div id="level" class="text-3xl font-black neon-text">
       1
      </div>
     </div>
     <div class="tech-panel px-6 py-3 rounded-2xl"><span class="text-xs neon-text-blue">Ø§Ù„ÙƒÙ„Ù…Ø§Øª</span>
      <div id="wordsCompleted" class="text-3xl font-black neon-text">
       0
      </div>
     </div>
     <div class="tech-panel px-6 py-3 rounded-2xl"><span class="text-xs neon-text-blue">Ø§Ù„ØµØ¹ÙˆØ¨Ø©</span>
      <div id="currentDifficulty" class="text-3xl font-black neon-text">
       â­
      </div>
     </div>
    </div>
   </div><!-- Game Board -->
   <div class="tech-panel rounded-3xl p-8 w-full max-w-5xl relative z-10 mb-6">
    <div id="targetWord" class="text-center mb-8">
     <div class="flex justify-center items-center gap-3 mb-3"><span id="difficultyBadge" class="difficulty-badge difficulty-easy">â­ Ø³Ù‡Ù„</span> <span id="categoryBadge" class="category-badge">Ù„ØºØ§Øª</span>
     </div>
     <div id="wordHint" class="text-3xl font-black neon-text mb-6"></div>
     <div id="dropZones" class="flex justify-center gap-3 flex-wrap"></div>
    </div>
    <div id="letterBank" class="flex justify-center gap-3 flex-wrap mt-8"></div>
    <div class="flex gap-4 mt-8"><button id="checkBtn" class="flex-1 py-4 px-6 rounded-2xl font-bold text-xl transition-all duration-300 transform hover:scale-105 relative overflow-hidden border-2 border-[#00ff9d]" style="background: #1a1f3a; color: #00ff9d; box-shadow: 0 2px 8px rgba(0, 255, 157, 0.2);"> <span class="relative z-10">âœ“ ØªØ­Ù‚Ù‚</span> </button> <button id="resetBtn" class="flex-1 py-4 px-6 rounded-2xl font-bold text-xl transition-all duration-300 transform hover:scale-105 border-2 border-[#ff006e]" style="background: #1a1f3a; color: #ff006e; box-shadow: 0 2px 8px rgba(255, 0, 110, 0.2);"> ï¿½ï¿½ Ø¥Ø¹Ø§Ø¯Ø© </button> <button id="skipBtn" class="flex-1 py-4 px-6 rounded-2xl font-bold text-xl transition-all duration-300 transform hover:scale-105 border-2 border-[#ff8500]" style="background: #1a1f3a; color: #ff8500; box-shadow: 0 2px 8px rgba(255, 133, 0, 0.2);"> â­ï¸ ØªØ®Ø·ÙŠ </button>
    </div>
   </div><!-- Message Area -->
   <div id="message" class="tech-panel rounded-2xl px-8 py-4 text-center font-bold text-xl relative z-10" style="color: #00ff9d; display: none;"></div>
  </div>
  <script>
        const defaultConfig = {
            game_title: "Ù„Ø¹Ø¨Ø© Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø§Ø·Ø¹Ø©",
            welcome_description: "Ø§Ø®ØªØ¨Ø± Ø°ÙƒØ§Ø¡Ùƒ ÙˆÙƒÙˆÙ‘Ù† Ø§Ù„ÙƒÙ„Ù…Ø§Øª",
            start_button_text: "Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø©",
            instruction_text: "Ø§Ø³Ø­Ø¨ Ø§Ù„Ø­Ø±ÙˆÙ Ù„ØªÙƒÙˆÙŠÙ† Ø§Ù„ÙƒÙ„Ù…Ø§Øª",
            primary_color: "#00ff9d",
            secondary_color: "#0a0e27",
            text_color: "#00ff9d",
            accent_color: "#00ccff",
            success_color: "#00ff9d"
        };

        let currentScore = 0;
        let currentLevel = 1;
        let wordsCompleted = 0;
        let currentWord = '';
        let currentWordData = null;
        let currentLetters = [];
        let draggedElement = null;
        let isLoading = false;
        let lastSpinTime = null;
        let gameData = [];
        let currentDifficulty = 1;
        let usedWords = [];
        
        const wheelPrizes = [100, 50, 200, 0, 150, 75];

        const words = [
            // Ù„ØºØ§Øª Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© - Ø³Ù‡Ù„ (15)
            { word: "ï¿½ï¿½Ø§ÙŠØ«ÙˆÙ†", hint: "ğŸ Ù„ØºØ© Ø¨Ø±Ù…Ø¬Ø© Ø³Ù‡Ù„Ø© Ù„Ù„Ù…Ø¨ØªØ¯Ø¦ÙŠÙ†", difficulty: 1, category: "Ù„ØºØ§Øª" },
            { word: "Ø¬Ø§ÙØ§", hint: "â˜• Ù„ØºØ© Ø¨Ø±Ù…Ø¬Ø© Ù„Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª", difficulty: 1, category: "Ù„ØºØ§Øª" },
            { word: "Ø³ÙˆÙŠÙØª", hint: "ğŸ Ù„ØºØ© Ø¨Ø±Ù…Ø¬Ø© Ø¢Ø¨Ù„", difficulty: 1, category: "Ù„ØºØ§Øª" },
            { word: "ÙƒÙˆØªÙ„Ù†", hint: "ğŸ“± Ù„ØºØ© Ø¨Ø±Ù…Ø¬Ø© Ø£Ù†Ø¯Ø±Ùˆï¿½ï¿½Ø¯ ï¿½ï¿½Ø¯ÙŠØ«Ø©", difficulty: 1, category: "Ù„ØºØ§Øª" },
            { word: "Ø±ÙˆØ¨ÙŠ", hint: "ğŸ’ Ù„ØºØ© Ø¨Ø±Ù…Ø¬Ø© Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ©", difficulty: 1, category: "Ù„ØºØ§Øª" },
            { word: "Ù…ØªØºÙŠØ±", hint: "ğŸ“¦ Ø­Ø§ÙˆÙŠØ© Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª", difficulty: 1, category: "Ù…ØµØ·Ù„Ø­Ø§Øª" },
            { word: "Ø¯Ø§Ù„Ø©", hint: "âš™ï¿½ï¿½ï¿½ ÙƒØªÙ„Ø© ÙƒÙˆØ¯ Ù‚Ø§Ø¨Ù„Ø© Ù„Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ï¿½ï¿½Ø³ØªØ®Ø¯Ø§Ù…", difficulty: 1, category: "Ù…ØµØ·Ù„Ø­Ø§Øª" },
            { word: "Ø­Ù„Ù‚Ø©", hint: "ğŸ”„ ØªÙƒØ±Ø§Ø± ØªÙ†ÙÙŠï¿½ï¿½ ÙƒÙˆØ¯ Ù…Ø¹ï¿½ï¿½Ù†", difficulty: 1, category: "Ù…ØµØ·Ù„Ø­Ø§Øª" },
            { word: "Ù…ØµÙÙˆÙØ©", hint: "ğŸ“Š Ù…ï¿½ï¿½Ù…ÙˆØ¹Ø© Ø¹Ù†Ø§ØµØ± Ù…Ø±ØªØ¨Ø©", difficulty: 1, category: "Ù…ØµØ·Ù„Ø­Ø§Øª" },
            { word: "ÙƒØ§Ø¦Ù†", hint: "ğŸ¯ ÙˆØ­Ø¯Ø© Ø¨Ø±Ù…Ø¬ÙŠØ© ØªØ­ØªÙˆÙŠ Ø¨ÙŠØ§Ù†Ø§Øª", difficulty: 1, category: "Ù…ØµØ·Ù„Ø­Ø§Øª" },
            { word: "Ø¬ÙŠØªØ³", hint: "ğŸ’» Ù…Ø¤Ø³Ø³ Ù…Ø§ÙŠÙƒØ±ÙˆØ³ÙˆÙØª", difficulty: 1, category: "Ø´Ø®ØµÙŠØ§Øª" },
            { word: "Ø¬ÙˆØ¨Ø²", hint: "ğŸ Ù…Ø¤Ø³Ø³ Ø¢Ø¨Ù„ Ø§Ù„Ø¹Ø¨Ù‚Ø±ÙŠ", difficulty: 1, category: "Ø´Ø®ØµÙŠØ§Øª" },
            { word: "Ù…Ø§Ø³Ùƒ", hint: "ğŸš€ Ù…Ø¤Ø³Ø³ ØªØ³Ù„Ø§ ÙˆØ³Ø¨ÙŠØ³ Ø¥ÙƒØ³", difficulty: 1, category: "Ø´Ø®ØµÙŠØ§Øª" },
            { word: "Ù†Øµ", hint: "ğŸ“ Ø¨ÙŠØ§Ù†Ø§Øª Ø­Ø±ÙˆÙ ÙˆÙƒÙ„Ù…Ø§Øª", difficulty: 1, category: "Ù…ØµØ·Ù„Ø­Ø§Øª" },
            { word: "Ø±Ù‚Ù…", hint: "ğŸ”¢ Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ø¯Ø¯ÙŠØ©", difficulty: 1, category: "Ù…ØµØ·Ù„Ø­Ø§Øª" },
            
            // Ù…ØªÙˆï¿½ï¿½Ø· (24)
            { word: "Ø¬Ø§ÙØ§Ø³ÙƒØ±Ø¨Øª", hint: "ğŸŒ Ù„ØºØ© Ø¨Ø±ï¿½ï¿½Ø¬Ø© Ø§Ù„ÙˆÙŠØ¨ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©", difficulty: 2, category: "Ù„ØºØ§Øª" },
            { word: "ØªØ§ÙŠØ¨Ø³ÙƒØ±Ø¨Øª", hint: "ğŸ“˜ Ø¬Ø§ÙØ§Ø³ÙƒØ±Ø¨Øª Ø¨Ø£Ù†ÙˆØ§Ø¹ Ø«Ø§Ø¨ØªØ©", difficulty: 2, category: "Ù„ØºØ§Øª" },
            { word: "Ø³ÙŠØ¨Ù„Ø§Ø³Ø¨Ù„Ø§Ø³", hint: "âš¡ Ù„ØºØ© Ø¨Ø±Ù…Ø¬Ø© ï¿½ï¿½ÙˆÙŠØ© ÙˆØ³Ø±ÙŠØ¹Ø©", difficulty: 2, category: "Ù„ØºØ§ï¿½ï¿½" },
            { word: "Ø±ÙˆØ³Øª", hint: "ï¿½ï¿½ Ù„ØºØ© Ø¨Ø±Ù…Ø¬Ø© Ø¢Ù…Ù†Ø© Ù„Ù„Ø°Ø§ÙƒØ±Ø©", difficulty: 2, category: "Ù„ØºØ§Øª" },
            { word: "Ø¬ÙˆÙ„Ø§Ù†Ø¬", hint: "ğŸ”· Ù„ØºØ© Ø¨Ø±Ù…Ø¬Ø© Ù…Ù† Ø¬ÙˆØ¬Ù„", difficulty: 2, category: "Ù„ØºØ§Øª" },
            { word: "Ø¯Ø§Ø±Øª", hint: "ğŸ¯ Ù„ØºØ© Ø¨Ø±Ù…Ø¬Ø© ÙÙ„Ø§ØªØ±", difficulty: 2, category: "Ù„ØºØ§Øª" },
            { word: "Ø§Ø³Ùƒï¿½ï¿½Ù„ï¿½ï¿½", hint: "ğŸ­ Ù„ØºØ© ÙˆØ¸ÙŠÙï¿½ï¿½Ø© Ù„Ù„Ø¬Ø§ÙØ§", difficulty: 2, category: "Ù„ØºØ§Øª" },
            { word: "Ø§ÙŠØ±Ù„Ø§Ù†Ø¬", hint: "ğŸ“¡ Ù„ØºØ© Ù„Ù„Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ù…ÙˆØ²Ø¹Ø©", difficulty: 2, category: "Ù„ØºØ§Øª" },
            { word: "Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ©", hint: "ğŸ§® Ø®Ø·ÙˆØ§Øª Ù…ï¿½ï¿½Ø·Ù‚ÙŠØ© Ù„Ø­Ù„ Ù…Ø´ÙƒÙ„Ø©", difficulty: 2, category: "Ù…ØµØ·Ù„Ø­Ø§Øª" },
            { word: "ÙˆØ§Ø¬Ù‡Ø©", hint: "ğŸ–¼ï¸ ØªØµÙ…ÙŠÙ… Ø§Ù„ØªÙØ§Ø¹Ù„ Ù…Ø¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…", difficulty: 2, category: "Ù…ØµØ·Ù„Ø­Ø§Øª" },
            { word: "ï¿½ï¿½Ø§Ø¹Ø¯Ø©Ø¨ÙŠØ§Ù†Ø§Øª", hint: "ğŸ—„ï¸ Ù…Ø®Ø²Ù† Ù…Ù†Ø¸Ù… Ù„Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª", difficulty: 2, category: "Ù…ØµØ·Ù„Ø­Ø§Øª" },
            { word: "Ø®Ø§Ø¯Ù…", hint: "ğŸ–¥ï¸ Ø­Ø§Ø³ÙˆØ¨ ÙŠÙ‚Ø¯Ù… Ø®Ø¯Ù…Ø§Øª Ù„Ù„Ø´Ø¨ÙƒØ©", difficulty: 2, category: "Ù…ØµØ·Ù„Ø­Ø§Øª" },
            { word: "Ø§Ø®ØªØ¨Ø§Ø±", hint: "ğŸ§ª ÙØ­Øµ Ø¬ÙˆØ¯Ø© Ø§Ù„ÙƒÙˆØ¯", difficulty: 2, category: "Ù…ØµØ·Ù„Ø­Ø§Øª" },
            { word: "ØªØ´ÙÙŠØ±", hint: "ğŸ” Ø­Ù…Ø§ï¿½ï¿½Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø§Ù„ØªØ±Ù…ÙŠØ²", difficulty: 2, category: "Ù…ØµØ·Ù„Ø­Ø§Øª" },
            { word: "Ø§Ø³ØªØ«Ù†Ø§Ø¡", hint: "âš ï¸ Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬", difficulty: 2, category: "Ù…ØµØ·Ù„Ø­Ø§Øª" },
            { word: "Ù…ÙƒØªØ¨Ø©", hint: "ğŸ“š Ù…Ø¬Ù…ÙˆØ¹Ø© Ø¯Ùˆï¿½ï¿½Ù„ Ø¬Ø§Ù‡Ø²Ø©", difficulty: 2, category: "Ù…ØµØ·Ù„Ø­Ø§Øª" },
            { word: "Ø§Ø·Ø§Ø±Ø¹Ù…Ù„", hint: "ğŸ—ï¸ Ø¨Ù†ÙŠØ© ØªØ­ØªÙŠØ© Ù„Ù„ØªØ·ÙˆÙŠØ±", difficulty: 2, category: "Ù…ØµØ·Ù„Ø­Ø§Øª" },
            { word: "ÙˆØ§Ø¬Ù‡Ø©Ø¨Ø±Ù…Ø¬ÙŠØ©", hint: "ğŸ”Œ Ù†Ù‚Ø·Ø© Ø§ØªØµØ§Ù„ Ø¨ÙŠÙ† Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬", difficulty: 2, category: "Ù…ØµØ·Ù„Ø­Ø§Øª" },
            { word: "Ø²ÙˆÙƒØ±Ø¨ÙŠØ±ï¿½ï¿½", hint: "ğŸ‘¤ Ù…Ø¤Ø³Ø³ ÙÙŠØ³Ø¨ÙˆÙƒ Ø§Ù„ï¿½ï¿½Ø§Ø¨", difficulty: 2, category: "Ø´Ø®ØµÙŠØ§Øª" },
            { word: "Ø¨ÙŠØ²ÙˆØ³", hint: "ğŸ“¦ Ù…Ø¤Ø³Ø³ Ø£Ù…Ø§Ø²ÙˆÙ† Ø§Ù„Ø¹Ù…Ù„Ø§Ù‚", difficulty: 2, category: "Ø´Ø®ØµÙŠØ§Øª" },
            { word: "Ø¨ÙŠØªØ´Ø§ÙŠ", hint: "ğŸ” Ø§Ù„Ø±ï¿½ï¿½ÙŠØ³ Ø§Ù„Øªï¿½ï¿½ÙÙŠØ°ÙŠ Ù„Ø¬ÙˆØ¬Ù„", difficulty: 2, category: "Ø´Ø®ØµÙŠØ§Øª" },
            { word: "ØªÙˆØ±ÙØ§Ù„Ø¯Ø²", hint: "ğŸ§ Ù…Ø¨ØªÙƒØ± Ù†Ø¸Ø§Ù… Ù„ÙŠÙ†ÙƒØ³", difficulty: 2, category: "Ø´Ø®ØµÙŠØ§Øª" },
            { word: "ÙˆØ²Ù†ÙŠØ§Ùƒ", hint: "ğŸ Ù…Ø¤Ø³Ø³ Ø¢Ø¨Ù„ Ù…Ø¹ ï¿½ï¿½ÙˆØ¨Ø²", difficulty: 2, category: "Ø´ï¿½ï¿½ØµÙŠØ§Øª" },
            { word: "Ø´Ø¨ÙƒØ©", hint: "ğŸŒ Ø§ØªØµØ§Ù„ Ø¨ÙŠÙ† Ø£Ø¬Ù‡Ø²Ø©", difficulty: 2, category: "Ù…ØµØ·Ù„Ø­Ø§Øª" },
            
            // ØµØ¹Ø¨ (17)
            { word: "Ø°ÙƒØ§Ø¡Ø§ØµØ·Ù†Ø§Ø¹ÙŠ", hint: "ğŸ¤– Ù…Ø­Ø§ÙƒØ§ï¿½ï¿½ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø¨Ø´Ø±ÙŠ", difficulty: 3, category: "Ù…ØªÙ‚Ø¯Ù…" },
            { word: "ØªØ¹Ù„Ù…Ø¢Ù„ÙŠ", hint: "ï¿½ï¿½ ØªØ¹Ù„Ù… Ø§Ù„Ø¢Ù„Ø© Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª", difficulty: 3, category: "Ù…ØªÙ‚Ø¯Ù…" },
            { word: "Ø¨Ù„ÙˆÙƒØªØ´ÙŠÙ†", hint: "â›“ï¸ ØªÙ‚Ù†ÙŠØ© Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„Ù…ÙˆØ²Ø¹", difficulty: 3, category: "Ù…ØªÙ‚Ø¯Ù…" },
            { word: "Ø­ÙˆØ³Ø¨Ø©Ø³Ø­Ø§Ø¨ÙŠØ©", hint: "â˜ï¸ Ø®Ø¯Ù…Ø§Øª Ø¹Ø¨Ø± ï¿½ï¿½Ù„Ø¥Ù†ØªØ±Ù†Øª", difficulty: 3, category: "Ù…ØªÙ‚Ø¯Ù…" },
            { word: "ÙˆØ§Ù‚Ø¹Ø§ÙØªØ±Ø§Ø¶ÙŠ", hint: "ğŸ¥½ Ø¹Ø§Ù„Ù… Ø±Ù‚Ù…ÙŠ Ø«Ù„Ø§Ø«ÙŠ Ø§Ù„Ø£Ø¨Ø¹Ø§Ø¯", difficulty: 3, category: "Ù…ØªÙ‚Ø¯Ù…" },
            { word: "ÙˆØ§Ù‚Ø¹Ù…Ø¹Ø²Ø²", hint: "ğŸ“± Ø¯Ù…Ø¬ Ø§Ù„Ø±Ù‚Ù…ÙŠ Ù…Ø¹ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ", difficulty: 3, category: "Ù…ØªÙ‚Ø¯Ù…" },
            { word: "Ø§Ù†ØªØ±Ù†ØªØ§Ù„Ø§Ø´ÙŠØ§Ø¡", hint: "ğŸŒ Ø§ØªØµØ§Ù„ Ø§Ù„Ø£Ø¬Ù‡Ø²Ø© Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª", difficulty: 3, category: "Ù…ØªÙ‚Ø¯Ù…" },
            { word: "Ø§Ù…Ù†Ø³ÙŠØ¨Ø±Ø§Ù†ÙŠ", hint: "ğŸ›¡ï¸ Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ø±Ù‚Ù…ÙŠØ©", difficulty: 3, category: "Ù…ØªÙ‚Ø¯Ù…" },
            { word: "Ø­ÙˆØ³Ø¨Ø©ÙƒÙ…ÙŠØ©", hint: "âš›ï¸ Ø­ÙˆØ³Ø¨Ø© Ø¨Ø§Ù„Ø¬Ø³ÙŠÙ…Ø§Øª Ø¯ÙˆÙ† Ø§ï¿½ï¿½Ø°Ø±ÙŠØ©", difficulty: 3, category: "Ù…ØªÙ‚Ø¯Ù…" },
            { word: "Ù…Ø¹Ø§Ù„Ø¬Ø©Ø·Ø¨ÙŠØ¹ÙŠØ©", hint: "ğŸ’¬ ÙÙ‡Ù… ï¿½ï¿½Ù„Ù„ØºØ© Ø§Ù„Ø¨Ø´Ø±ÙŠØ© Ø¨Ø§Ù„Ø¢Ù„Ø©", difficulty: 3, category: "Ù…ØªÙ‚Ø¯Ù…" },
            { word: "ØªØ¹Ù„Ù…Ø¹Ù…ÙŠÙ‚", hint: "ğŸ•¸ï¸ Ø´Ø¨ÙƒØ§Øª Ø¹ØµØ¨ÙŠØ© Ù…ØªØ¹Ø¯Ø¯Ø© Ø§Ù„Ø·Ø¨Ù‚Ø§Øª", difficulty: 3, category: "Ù…ØªÙ‚Ø¯Ù…" },
            { word: "Ø§ØªÙ…Øªï¿½ï¿½", hint: "ğŸ¤– ØªÙ†ÙÙŠØ° Ù…Ù‡Ø§Ù… Ø¨Ø¯ÙˆÙ† ØªØ¯Ø®Ù„ Ø¨Ø´Ø±ÙŠ", difficulty: 3, category: "Ù…ØªÙ‚Ø¯Ù…" },
            { word: "ï¿½ï¿½ÙŠØ§Ù†Ø§ØªØ¶Ø®Ù…Ø©", hint: "ğŸ“Š Ù…Ø¹Ø§Ù„Ø¬Ø© ÙƒÙ…ÙŠØ§Øª Ù‡Ø§Ø¦Ù„Ø© Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª", difficulty: 3, category: "Ù…ØªÙ‚Ø¯Ù…" },
            { word: "Ø­ÙˆØ³Ø¨Ø©Ø·Ø±ÙÙŠØ©", hint: "ğŸŒ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù‚Ø±Ø¨ Ø§Ù„Ù…ØµØ¯Ø±", difficulty: 3, category: "Ù…ØªÙ‚Ø¯Ù…" },
            { word: "ØªÙˆØ±ÙŠÙ†Ø¬", hint: "ğŸ§® Ø£Ø¨Ùˆ Ø¹Ù„Ù… Ø§Ù„Ø­Ø§Ø³ÙˆØ¨ Ø§Ù„Ø­Ø¯ÙŠØ«", difficulty: 3, category: "Ø´Ø®ØµÙŠØ§Øª" },
            { word: "Ø¬Ø±ÙŠØ³Ù‡ï¿½ï¿½Ø¨Ø±", hint: "ğŸ‘©â€ğŸ’» Ù…Ø®ØªØ±Ø¹Ø© Ø£ÙˆÙ„ Ù…ØªØ±Ø¬Ù… Ø¨Ø±Ù…Ø¬ÙŠ", difficulty: 3, category: "Ø´Ø®ØµÙŠØ§Øª" },
            { word: "ÙƒÙ†ÙˆØ«", hint: "ğŸ“š Ø£Ø¨Ùˆ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ§Øª", difficulty: 3, category: "Ø´Ø®ØµÙŠØ§Øª" }
        ];

        const dataHandler = {
            onDataChanged(data) {
                gameData = data || [];
                if (data && data.length > 0) {
                    const latestGame = data[data.length - 1];
                    if (latestGame.score !== undefined) {
                        currentScore = latestGame.score;
                        currentLevel = latestGame.level;
                        wordsCompleted = latestGame.completedWords ? parseInt(latestGame.completedWords) : 0;
                        lastSpinTime = latestGame.lastSpinTime || null;
                        currentDifficulty = latestGame.currentDifficulty || 1;
                        updateDisplay();
                        checkWheelAvailability();
                    }
                }
            }
        };

        async function initializeGame() {
            const initResult = await window.dataSdk.init(dataHandler);
            if (!initResult.isOk) {
                console.error("Failed to initialize data SDK");
            }
            
            if (window.elementSdk) {
                window.elementSdk.init({
                    defaultConfig,
                    onConfigChange: async (config) => {
                        document.getElementById('welcomeTitle').textContent = config.game_title || defaultConfig.game_title;
                        document.getElementById('welcomeDescription').textContent = config.welcome_description || defaultConfig.welcome_description;
                        const startBtnText = document.getElementById('startButtonText');
                        if (startBtnText) {
                            startBtnText.textContent = 'ğŸš€ ' + (config.start_button_text || defaultConfig.start_button_text);
                        }
                        const gameTitle = document.getElementById('gameTitle');
                        if (gameTitle) {
                            gameTitle.textContent = config.game_title || defaultConfig.game_title;
                        }
                        const instructionText = document.getElementById('instructionText');
                        if (instructionText) {
                            instructionText.textContent = config.instruction_text || defaultConfig.instruction_text;
                        }
                    },
                    mapToCapabilities: (config) => ({
                        recolorables: [
                            {
                                get: () => config.primary_color || defaultConfig.primary_color,
                                set: (value) => {
                                    if (window.elementSdk) {
                                        window.elementSdk.config.primary_color = value;
                                        window.elementSdk.setConfig({ primary_color: value });
                                    }
                                }
                            },
                            {
                                get: () => config.secondary_color || defaultConfig.secondary_color,
                                set: (value) => {
                                    if (window.elementSdk) {
                                        window.elementSdk.config.secondary_color = value;
                                        window.elementSdk.setConfig({ secondary_color: value });
                                    }
                                }
                            },
                            {
                                get: () => config.text_color || defaultConfig.text_color,
                                set: (value) => {
                                    if (window.elementSdk) {
                                        window.elementSdk.config.text_color = value;
                                        window.elementSdk.setConfig({ text_color: value });
                                    }
                                }
                            },
                            {
                                get: () => config.accent_color || defaultConfig.accent_color,
                                set: (value) => {
                                    if (window.elementSdk) {
                                        window.elementSdk.config.accent_color = value;
                                        window.elementSdk.setConfig({ accent_color: value });
                                    }
                                }
                            },
                            {
                                get: () => config.success_color || defaultConfig.success_color,
                                set: (value) => {
                                    if (window.elementSdk) {
                                        window.elementSdk.config.success_color = value;
                                        window.elementSdk.setConfig({ success_color: value });
                                    }
                                }
                            }
                        ],
                        borderables: [],
                        fontEditable: undefined,
                        fontSizeable: undefined
                    }),
                    mapToEditPanelValues: (config) => new Map([
                        ["game_title", config.game_title || defaultConfig.game_title],
                        ["welcome_description", config.welcome_description || defaultConfig.welcome_description],
                        ["start_button_text", config.start_button_text || defaultConfig.start_button_text],
                        ["instruction_text", config.instruction_text || defaultConfig.instruction_text]
                    ])
                });
            }
        }

        function startGame() {
            document.getElementById('welcomeScreen').style.display = 'none';
            document.getElementById('gameScreen').style.display = 'flex';
            checkWheelAvailability();
            loadNewWord();
        }

        function checkWheelAvailability() {
            const wheelContainer = document.getElementById('wheelContainer');
            
            if (!lastSpinTime) {
                wheelContainer.style.display = 'block';
                return;
            }
            
            const lastSpin = new Date(lastSpinTime);
            const now = new Date();
            const hoursSinceLastSpin = (now - lastSpin) / (1000 * 60 * 60);
            
            if (hoursSinceLastSpin >= 24) {
                wheelContainer.style.display = 'block';
            } else {
                wheelContainer.style.display = 'none';
            }
        }

        async function spinWheel() {
            const wheel = document.getElementById('wheel');
            const spinBtn = document.getElementById('spinBtn');
            
            spinBtn.disabled = true;
            spinBtn.innerHTML = '<div class="loading-spinner mx-auto"></div>';
            
            const randomRotation = 1800 + Math.random() * 360;
            wheel.style.transform = `rotate(${randomRotation}deg)`;
            
            setTimeout(async () => {
                const finalRotation = randomRotation % 360;
                const segmentIndex = Math.floor((360 - finalRotation + 30) / 60) % 6;
                const prize = wheelPrizes[segmentIndex];
                
                currentScore += prize;
                lastSpinTime = new Date().toISOString();
                
                const newGameData = {
                    id: Date.now().toString(),
                    level: currentLevel,
                    score: currentScore,
                    completedWords: wordsCompleted.toString(),
                    timestamp: new Date().toISOString(),
                    lastSpinTime: lastSpinTime,
                    currentDifficulty: currentDifficulty
                };
                
                const result = await window.dataSdk.create(newGameData);
                
                if (result.isOk) {
                    updateDisplay();
                    
                    const message = prize > 0 
                        ? `ğŸ‰ Ù…Ø¨Ø±ÙˆÙƒ! Ø±Ø¨Ø­Øª ${prize} Ù†Ù‚Ø·Ø©!`
                        : `ğŸ˜” Ø­Ø¸ Ø£ÙˆÙØ± Ø§Ù„Ù…Ø±Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©!`;
                    showMessage(message, prize > 0 ? '#00ff9d' : '#ff006e');
                    
                    setTimeout(() => {
                        document.getElementById('wheelContainer').style.display = 'none';
                        hideMessage();
                    }, 3000);
                } else {
                    showMessage('ï¿½ï¿½ï¿½ Ø®Ø·Ø£ ÙÙŠ Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª', '#ff006e');
                    spinBtn.disabled = false;
                    spinBtn.innerHTML = 'ğŸ¡ Ù„Ù Ø§Ù„Ø¹Ø¬Ù„Ø©';
                }
            }, 4000);
        }

        function getAvailableWords() {
            return words.filter(w => w.difficulty <= currentDifficulty && !usedWords.includes(w.word));
        }

        function loadNewWord() {
            const availableWords = getAvailableWords();
            
            if (availableWords.length === 0) {
                usedWords = [];
                currentDifficulty = Math.min(currentDifficulty + 1, 3);
            }
            
            const filteredWords = getAvailableWords();
            currentWordData = filteredWords[Math.floor(Math.random() * filteredWords.length)];
            currentWord = currentWordData.word;
            usedWords.push(currentWord);
            
            currentLetters = shuffleArray(currentWord.split(''));
            
            document.getElementById('wordHint').textContent = currentWordData.hint;
            
            const difficultyBadge = document.getElementById('difficultyBadge');
            const categoryBadge = document.getElementById('categoryBadge');
            
            if (currentWordData.difficulty === 1) {
                difficultyBadge.className = 'difficulty-badge difficulty-easy';
                difficultyBadge.textContent = 'â­ Ø³Ù‡Ù„';
            } else if (currentWordData.difficulty === 2) {
                difficultyBadge.className = 'difficulty-badge difficulty-medium';
                difficultyBadge.textContent = 'â­â­ Ù…ØªÙˆØ³Ø·';
            } else {
                difficultyBadge.className = 'difficulty-badge difficulty-hard';
                difficultyBadge.textContent = 'â­â­â­ ØµØ¹Ø¨';
            }
            
            categoryBadge.textContent = currentWordData.category;
            
            const dropZones = document.getElementById('dropZones');
            dropZones.innerHTML = '';
            for (let i = 0; i < currentWord.length; i++) {
                const zone = document.createElement('div');
                zone.className = 'drop-zone w-16 h-16 rounded-2xl flex items-center justify-center text-3xl font-black';
                zone.dataset.index = i;
                zone.style.color = '#0a0e27';
                zone.addEventListener('dragover', handleDragOver);
                zone.addEventListener('drop', handleDrop);
                zone.addEventListener('dragleave', handleDragLeave);
                dropZones.appendChild(zone);
            }
            
            const letterBank = document.getElementById('letterBank');
            letterBank.innerHTML = '';
            currentLetters.forEach((letter, index) => {
                const tile = document.createElement('div');
                tile.className = 'letter-tile w-16 h-16 rounded-2xl flex items-center justify-center text-3xl font-black';
                tile.style.color = '#ffffff';
                tile.textContent = letter;
                tile.draggable = true;
                tile.dataset.letter = letter;
                tile.dataset.originalIndex = index;
                tile.addEventListener('dragstart', handleDragStart);
                tile.addEventListener('dragend', handleDragEnd);
                letterBank.appendChild(tile);
            });
        }

        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        function handleDragStart(e) {
            draggedElement = e.target;
            e.target.style.opacity = '0.5';
        }

        function handleDragEnd(e) {
            e.target.style.opacity = '1';
        }

        function handleDragOver(e) {
            e.preventDefault();
            if (e.currentTarget.classList.contains('drop-zone') && !e.currentTarget.classList.contains('filled')) {
                e.currentTarget.classList.add('drag-over');
            }
        }

        function handleDragLeave(e) {
            e.currentTarget.classList.remove('drag-over');
        }

        function handleDrop(e) {
            e.preventDefault();
            const dropZone = e.currentTarget;
            dropZone.classList.remove('drag-over');
            
            if (!dropZone.classList.contains('filled') && draggedElement) {
                dropZone.textContent = draggedElement.dataset.letter;
                dropZone.classList.add('filled');
                dropZone.style.color = '#0a0e27';
                draggedElement.style.display = 'none';
            }
        }

        async function checkWord() {
            if (isLoading) return;
            
            const dropZones = document.querySelectorAll('.drop-zone');
            let formedWord = '';
            let allFilled = true;
            
            dropZones.forEach(zone => {
                if (zone.textContent) {
                    formedWord += zone.textContent;
                } else {
                    allFilled = false;
                }
            });
            
            if (!allFilled) {
                showMessage('âš ï¿½ï¿½ï¿½ Ø£ÙƒÙ…Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø±ÙˆÙ!', '#ff8500');
                return;
            }
            
            if (formedWord === currentWord) {
                isLoading = true;
                document.getElementById('checkBtn').innerHTML = '<div class="loading-spinner mx-auto"></div>';
                
                const points = currentWordData.difficulty === 1 ? 100 : currentWordData.difficulty === 2 ? 200 : 300;
                currentScore += points * currentLevel;
                wordsCompleted++;
                
                if (wordsCompleted % 3 === 0 && currentDifficulty < 3) {
                    currentDifficulty++;
                }
                
                if (wordsCompleted % 5 === 0) {
                    currentLevel++;
                }
                
                const gameData = {
                    id: Date.now().toString(),
                    level: currentLevel,
                    score: currentScore,
                    completedWords: wordsCompleted.toString(),
                    timestamp: new Date().toISOString(),
                    lastSpinTime: lastSpinTime || '',
                    currentDifficulty: currentDifficulty
                };
                
                const result = await window.dataSdk.create(gameData);
                
                if (result.isOk) {
                    updateDisplay();
                    showMessage(`ğŸ‰ Ø±Ø§Ø¦Ø¹! +${points * currentLevel} Ù†Ù‚Ø·Ø©!`, '#00ff9d');
                    setTimeout(() => {
                        loadNewWord();
                        isLoading = false;
                        document.getElementById('checkBtn').innerHTML = '<span class="relative z-10">âœ“ ØªØ­ï¿½ï¿½Ù‚</span>';
                    }, 2000);
                } else {
                    showMessage('âŒ Ø®Ø·Ø£ ÙÙŠ Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª', '#ff006e');
                    isLoading = false;
                    document.getElementById('checkBtn').innerHTML = '<span class="relative z-10">âœ“ ØªØ­Ù‚Ù‚</span>';
                }
            } else {
                showMessage('âŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰!', '#ff006e');
            }
        }

        function resetWord() {
            const dropZones = document.querySelectorAll('.drop-zone');
            dropZones.forEach(zone => {
                zone.textContent = '';
                zone.classList.remove('filled', 'correct', 'incorrect');
                zone.style.background = 'rgba(50, 50, 50, 0.5)';
                zone.style.color = '#000000';
            });
            
            const tiles = document.querySelectorAll('.letter-tile');
            tiles.forEach(tile => {
                tile.style.display = 'flex';
            });
            
            hideMessage();
        }

        function skipWord() {
            showMessage('â­ï¸ ØªÙ… ï¿½ï¿½Ø®Ø·ÙŠ Ø§Ù„ÙƒÙ„Ù…Ø©', '#ff8500');
            setTimeout(() => {
                loadNewWord();
                hideMessage();
            }, 1000);
        }

        function updateDisplay() {
            document.getElementById('score').textContent = currentScore;
            document.getElementById('level').textContent = currentLevel;
            document.getElementById('wordsCompleted').textContent = wordsCompleted;
            
            const difficultyDisplay = document.getElementById('currentDifficulty');
            if (currentDifficulty === 1) {
                difficultyDisplay.textContent = 'â­';
            } else if (currentDifficulty === 2) {
                difficultyDisplay.textContent = 'â­â­';
            } else {
                difficultyDisplay.textContent = 'â­â­â­';
            }
        }

        function showMessage(text, color) {
            const message = document.getElementById('message');
            message.textContent = text;
            message.style.borderColor = color;
            message.style.color = color;
            message.style.boxShadow = `0 4px 16px ${color}30`;
            message.style.display = 'block';
            message.classList.add('word-complete');
        }

        function hideMessage() {
            const message = document.getElementById('message');
            message.style.display = 'none';
        }

        document.getElementById('startGameBtn').addEventListener('click', startGame);
        document.getElementById('spinBtn').addEventListener('click', spinWheel);
        document.getElementById('checkBtn').addEventListener('click', checkWord);
        document.getElementById('resetBtn').addEventListener('click', resetWord);
        document.getElementById('skipBtn').addEventListener('click', showHint);

        async function showHint() {
            if (isLoading) return;
            
            if (currentScore < 100) {
                showMessage('âŒ ØªØ­ØªØ§Ø¬ 100 Ù†Ù‚Ø·Ø© Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ØªÙ„Ù…ÙŠØ­!', '#ff0000');
                return;
            }
            
            isLoading = true;
            document.getElementById('skipBtn').innerHTML = '<div class="loading-spinner mx-auto"></div>';
            
            currentScore -= 100;
            
            const gameData = {
                id: Date.now().toString(),
                level: currentLevel,
                score: currentScore,
                completedWords: wordsCompleted.toString(),
                timestamp: new Date().toISOString(),
                lastSpinTime: lastSpinTime || '',
                currentDifficulty: currentDifficulty
            };
            
            const result = await window.dataSdk.create(gameData);
            
            if (result.isOk) {
                updateDisplay();
                const firstLetter = currentWord[0];
                const dropZones = document.querySelectorAll('.drop-zone');
                dropZones[0].textContent = firstLetter;
                dropZones[0].classList.add('filled');
                dropZones[0].style.background = '#ffff00';
                dropZones[0].style.color = '#000000';
                
                const tiles = document.querySelectorAll('.letter-tile');
                tiles.forEach(tile => {
                    if (tile.dataset.letter === firstLetter && tile.style.display !== 'none') {
                        tile.style.display = 'none';
                        return;
                    }
                });
                
                showMessage('ğŸ’¡ ØªÙ… Ø¹Ø±Ø¶ Ø§Ù„Ø­Ø±Ù Ø§Ù„Ø£ÙˆÙ„!', '#ffff00');
                
                setTimeout(() => {
                    isLoading = false;
                    document.getElementById('skipBtn').innerHTML = 'ğŸ’¡ ØªÙ„Ù…ÙŠØ­ (100 Ù†Ù‚Ø·Ø©)';
                    hideMessage();
                }, 2000);
            } else {
                showMessage('âŒ Ø®Ø·Ø£ ÙÙŠ Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª', '#ff0000');
                currentScore += 100;
                isLoading = false;
                document.getElementById('skipBtn').innerHTML = 'ğŸ’¡ ØªÙ„Ù…ÙŠØ­ (100 Ù†Ù‚Ø·Ø©)';
            }
        }

        initializeGame();
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9b3b7b3e94e4a0e6',t:'MTc2NjY5ODY2NS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
